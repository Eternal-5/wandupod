<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>콩 한 톨 감상기 - 완두콩깍지</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="board">
  <!-- 🫛 완두콩깍지 메인 배너 -->
  <div style="text-align:center; padding:1.2rem 0; background:#f0fbf4;">
    <a href="index.html" style="text-decoration:none;">
      <img src="img/wandupod-logo.png" alt="완두콩깍지 로고" style="height:60px;" />
    </a>
  </div>

  <header><h1>✏️콩 한 톨 감상기</h1></header>
  <p style="text-align:center; font-size:1.4rem;">공연 감상 후기를 남기는 공간이에요</p>

  <!-- 네비게이션 삽입 -->
  <div id="nav"></div>
  <script>
    fetch("nav.html")
      .then(res => res.text())
      .then(html => document.getElementById("nav").innerHTML = html);
  </script>

  <section style="max-width:900px; margin:0 auto; padding:2rem;">
    <!-- 글쓰기 토글 버튼 -->
    <button id="toggleForm" style="padding:0.6rem 1rem; background:#3b6040; color:#fff; border:none; border-radius:4px; font-size:1rem;">
      ✍️ 글쓰기
    </button>

    <!-- 글쓰기 폼 -->
    <div id="formContainer" style="display:none; margin-top:1rem;">
      <form id="postForm" style="display:flex; flex-direction:column; gap:1rem;">
        <input type="hidden" name="tag" value="[후기]"/>
        <label>
          제목:
          <input type="text" name="title" required style="width:100%; padding:0.5rem;" />
        </label>
        <label>
          내용:
          <textarea name="content" rows="6" required style="width:100%; padding:0.5rem;"></textarea>
        </label>
        <button type="submit" style="padding:0.6rem; background:#3b6040; color:#fff; border:none; border-radius:4px; font-size:1rem;">
          글 등록하기
        </button>
      </form>
    </div>

    <!-- 검색창 -->
    <div id="searchContainer" style="margin:2rem 0; display:flex; flex-wrap:wrap; gap:0.5rem; align-items:center;">
      <input type="text" id="searchInput" placeholder="검색어 입력..." style="flex:1; padding:0.5rem; font-size:1rem;" />
      <select id="searchScope" style="padding:0.5rem;">
        <option value="title">제목</option>
        <option value="content">내용</option>
        <option value="both">제목+내용</option>
      </select>
      <button id="searchButton" style="padding:0.6rem 1rem; background:#3b6040; color:#fff; border:none; border-radius:4px; font-size:1rem;">
        검색
      </button>
    </div>

    <!-- 게시글 목록 -->
    <div id="postList"></div>
  </section>

  <!-- 글쓰기 폼 토글 스크립트 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggleBtn = document.getElementById("toggleForm");
      const formContainer = document.getElementById("formContainer");
      if (toggleBtn && formContainer) {
        toggleBtn.addEventListener("click", () => {
          formContainer.style.display = formContainer.style.display === "none" ? "block" : "none";
        });
      }
    });
  </script>
</body>
</html>
