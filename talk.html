<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>í†¡í†¡, ì½©ì•Œë§ - ì™„ë‘ì½©ê¹ì§€</title>
  <link rel="stylesheet" href="style.css"/>
  
  <!-- Firebase App (í•„ìˆ˜) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <!-- Firestore SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
</head>
<body>
  <header><h1>í†¡í†¡, ì½©ì•Œë§</h1></header>

  <section style="max-width:900px;margin:0 auto;padding:2rem;">
    <p><strong>í†¡í†¡, ì½©ì•Œë§</strong>ì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œí†µí•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤!</p>
    <p>ì•„ë˜ì— ì±„íŒ… ë©”ì‹œì§€ê°€ í‘œì‹œë¼ìš” ğŸ’¬</p>

    <ul id="chat-list"></ul>
  </section>

  <footer><a href="index.html">â† ë©”ì¸ìœ¼ë¡œ</a></footer>

  <!-- âœ… Firebase ì„¤ì • ë° ë©”ì‹œì§€ ì¶œë ¥ -->
  <script>
    const firebaseConfig = {
      apiKey: "ë„ˆì˜-apiKey",
      authDomain: "ë„ˆì˜-authDomain",
      projectId: "wandupod",
      storageBucket: "ë„ˆì˜-storageBucket",
      messagingSenderId: "ë„ˆì˜-senderId",
      appId: "ë„ˆì˜-appId"
    };

    // Firebase ì´ˆê¸°í™”
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // ì‹¤ì‹œê°„ ì±„íŒ… ë©”ì‹œì§€ ì½ê¸°
    const messageList = document.getElementById("chat-list");

    db.collection("messages")
      .orderBy("timestamp")
      .onSnapshot((snapshot) => {
        messageList.innerHTML = "";
        snapshot.forEach((doc) => {
          const data = doc.data();
          const item = document.createElement("li");
          item.textContent = `${data.userId} : ${data.message}`;
          messageList.appendChild(item);
        });
      });
  </script>
</body>
</html>
