<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>톡톡, 콩알말 - 완두콩깍지</title>
  <link rel="stylesheet" href="style.css"/>
  
  <!-- Firebase App (필수) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <!-- Firestore SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
</head>
<body>
  <header><h1>톡톡, 콩알말</h1></header>

  <section style="max-width:900px;margin:0 auto;padding:2rem;">
    <p><strong>톡톡, 콩알말</strong>은 실시간으로 소통하는 공간입니다!</p>
    <p>아래에 채팅 메시지가 표시돼요 💬</p>

    <ul id="chat-list"></ul>
  </section>

  <footer><a href="index.html">← 메인으로</a></footer>

  <!-- ✅ Firebase 설정 및 메시지 출력 -->
  <script>
    const firebaseConfig = {
      apiKey: "너의-apiKey",
      authDomain: "너의-authDomain",
      projectId: "wandupod",
      storageBucket: "너의-storageBucket",
      messagingSenderId: "너의-senderId",
      appId: "너의-appId"
    };

    // Firebase 초기화
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // 실시간 채팅 메시지 읽기
    const messageList = document.getElementById("chat-list");

    db.collection("messages")
      .orderBy("timestamp")
      .onSnapshot((snapshot) => {
        messageList.innerHTML = "";
        snapshot.forEach((doc) => {
          const data = doc.data();
          const item = document.createElement("li");
          item.textContent = `${data.userId} : ${data.message}`;
          messageList.appendChild(item);
        });
      });
  </script>
</body>
</html>
